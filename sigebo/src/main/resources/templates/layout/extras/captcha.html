<div th:fragment="captcha">
    <style>
        #image {
            padding: 20px !important;
            font-weight: 400 !important;
            user-select: none !important;
            text-decoration: line-through !important;
            font-style: italic !important;
            font-size: x-large !important;
            border: hsl(216, 76%, 67%) 2px solid !important;
        }

    </style>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
          integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        let captcha;

        function generate() {

            document.getElementById("submit").value = "";

            captcha = document.getElementById("image");
            let uniquechar = "";

            const randomchar = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

            for (let i = 1; i < 5; i++) {
                uniquechar += randomchar.charAt(
                    Math.random() * randomchar.length)
            }

            captcha.innerHTML = uniquechar;
        }

        function printmsg() {
            const usr_input = document.getElementById("submit").value;
            let urlActual = new URL(window.location.href);
            let nombreDePath = urlActual.pathname.split("/");

            if (usr_input === captcha.innerHTML) {
                if(nombreDePath[1] === "login"){
                    document.getElementById("contenedorSubmit").innerHTML=`<button class="btn btn-primary w-100" type="submit" id="botonDeSubmit" >Iniciar Sesi√≥n</button>`
                    document.getElementById("botonDeSubmit").click();
                }else{
                    document.getElementById("contenedorSubmit").innerHTML=`<button class="btn btn-primary w-100" type="submit" id="botonDeSubmit" >Crear Cuenta</button>`
                    document.getElementById("botonDeSubmit").click();
                }
            } else {
                generate();
            }
        }

    </script>
</div>